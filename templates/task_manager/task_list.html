{% extends "base.html" %}
{% block content %}
  <h1>
    Task List
  </h1>
  {% if task_list %}
    {% include 'includes/search.html' %}
    <table class="table">
      <tr>
        <th class="task_type-col">Task Type</th>
        <th class="task-col">Task</th>
        <th>Status</th>
        <th>Priority</th>
        <th>Deadline</th>
        <th>Project</th>
      </tr>
      {% for task in task_list %}
        <tr>
        <td>{{ task.task_type }}</td>
          <td>
            <a href="#">{{ task.name }}</a>
            {% if task.tags %}
              <p>
              {% for tag in task.tags.all %}
                <small class="text-muted">#{{ tag }}</small>
              {% endfor %}
              </p>
            {% endif %}
          </td>
          <td>
            {% if task.is_completed %}
              <span style="color: green">Completed</span>
            {% else %}
              <span style="color: darkviolet">In work</span>
            {% endif %}
          </td>
          <td>{{ task.priority }}</td>
          <td>{% if task.deadline %}{{ task.deadline }}{% else %}-{% endif %}</td>
          <td>{% if task.project %}<a href="#">{{ task.project }}</a>{% else %}-{% endif %}</td>
        </tr>
      {% endfor %}

    </table>
  {% else %}
    <p>There are no tasks in the manager.</p>
  {% endif %}
{% endblock %}
